# Screen Flow & Empty State Handling

## Complete Application Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         APP START                                â”‚
â”‚                    Auto-login: testuser                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      HOME SCREEN                                 â”‚
â”‚                  (Bottom Navigation)                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚  â”‚ Contests â”‚   Team   â”‚  Wallet  â”‚ Profile  â”‚                 â”‚
â”‚  â”‚    âœ“     â”‚ (placeholder) (placeholder) (placeholder)        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CONTESTS SCREEN                               â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Contest Info Card                                         â”‚  â”‚
â”‚  â”‚ - Name: "Contest 2025-12-27"                             â”‚  â”‚
â”‚  â”‚ - Stage: Ù…Ø¹Ø§ÙŠÙ†Ø© / Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰                         â”‚  â”‚
â”‚  â”‚ - Contestants: 0 or 20                                   â”‚  â”‚
â”‚  â”‚ - Status: Joined or Not Joined                           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ [Ø§Ù†Ø¶Ù… Ù„Ù„Ù…Ø³Ø§Ø¨Ù‚Ø© (10 Ù†ÙˆÙØ§)]  â† if not joined              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ [Ø¹Ø±Ø¶ Ø§Ù„Ù…ØªØ³Ø§Ø¨Ù‚ÙŠÙ† (Preview)] â† Opens Modal               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ [Stage1 â€” Ø§Ù„ØªØµÙˆÙŠØª]         â† if Stage1 active           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                  â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” DEV TOOLS â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ [Ø¥Ø¶Ø§ÙØ© 20 Ù…ØªØ³Ø§Ø¨Ù‚ ÙˆÙ‡Ù…ÙŠ]    â† Creates contestants         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ [Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ (Stage1)] â† Changes stage           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ [Ø¥Ø¶Ø§ÙØ© Ø£Ù…ÙˆØ§Ù„ ØªØ¬Ø±ÙŠØ¨ÙŠØ©]     â† Adds funds                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                  â”‚
â”‚  Balance: Nova: 100.0 | Aura: 100.0                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚                       â”‚
             â”‚                       â”‚
   [Preview Button]         [Stage1 Button]
             â”‚                       â”‚
             â†“                       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PREVIEW MODAL         â”‚  â”‚    STAGE1 SCREEN               â”‚
â”‚                        â”‚  â”‚                                â”‚
â”‚  Case 1: Empty         â”‚  â”‚  Case 1: No Contest            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   ðŸ‘¥              â”‚  â”‚  â”‚  â”‚   â„¹ï¸                     â”‚ â”‚
â”‚  â”‚ No contestants   â”‚  â”‚  â”‚  â”‚ Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø³Ø§Ø¨Ù‚Ø© Ù†Ø´Ø·Ø©      â”‚ â”‚
â”‚  â”‚                  â”‚  â”‚  â”‚  â”‚ Use DEV tools            â”‚ â”‚
â”‚  â”‚ [Add Now]        â”‚  â”‚  â”‚  â”‚ [DEV: Create Contest]    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                        â”‚  â”‚                                â”‚
â”‚  Case 2: Has Data      â”‚  â”‚  Case 2: Wrong Stage           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Ù…ØªØ³Ø§Ø¨Ù‚ 1 | 95 â¬† â”‚  â”‚  â”‚  â”‚   ðŸ”’                     â”‚ â”‚
â”‚  â”‚ Ù…ØªØ³Ø§Ø¨Ù‚ 2 | 90 â¬† â”‚  â”‚  â”‚  â”‚ Stage: Ù…Ø¹Ø§ÙŠÙ†Ø©            â”‚ â”‚
â”‚  â”‚ Ù…ØªØ³Ø§Ø¨Ù‚ 3 | 85 â¬† â”‚  â”‚  â”‚  â”‚ [DEV: Start Stage1]      â”‚ â”‚
â”‚  â”‚ ...20 total      â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  Case 3: Not Joined            â”‚
                            â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
                            â”‚  â”‚   ðŸšª                     â”‚ â”‚
                            â”‚  â”‚ Ù„Ù… ØªÙ†Ø¶Ù… Ù„Ù„Ù…Ø³Ø§Ø¨Ù‚Ø© Ø¨Ø¹Ø¯     â”‚ â”‚
                            â”‚  â”‚ [Ø§Ù†Ø¶Ù… Ø§Ù„Ø¢Ù† (10 Ù†ÙˆÙØ§)]    â”‚ â”‚
                            â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
                            â”‚                                â”‚
                            â”‚  Case 4: No Contestants        â”‚
                            â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
                            â”‚  â”‚   â„¹ï¸                     â”‚ â”‚
                            â”‚  â”‚ Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…ØªØ³Ø§Ø¨Ù‚ÙˆÙ†         â”‚ â”‚
                            â”‚  â”‚ [DEV: Add 20]            â”‚ â”‚
                            â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
                            â”‚                                â”‚
                            â”‚  Case 5: Ready to Vote         â”‚
                            â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
                            â”‚  â”‚ Aura: 100.0              â”‚ â”‚
                            â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
                            â”‚  â”‚ â”‚ 1ï¸âƒ£ Ù…ØªØ³Ø§Ø¨Ù‚ 1 | 95â¬†   â”‚ â”‚ â”‚
                            â”‚  â”‚ â”‚    [ØµÙˆÙ‘Øª] â†          â”‚ â”‚ â”‚
                            â”‚  â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ â”‚
                            â”‚  â”‚ â”‚ 2ï¸âƒ£ Ù…ØªØ³Ø§Ø¨Ù‚ 2 | 90â¬†   â”‚ â”‚ â”‚
                            â”‚  â”‚ â”‚    [ØµÙˆÙ‘Øª] â†          â”‚ â”‚ â”‚
                            â”‚  â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ â”‚
                            â”‚  â”‚ â”‚ 3ï¸âƒ£ Ù…ØªØ³Ø§Ø¨Ù‚ 3 | 85â¬†   â”‚ â”‚ â”‚
                            â”‚  â”‚ â”‚    [ØµÙˆÙ‘Øª] â†          â”‚ â”‚ â”‚
                            â”‚  â”‚ â”‚ ...                  â”‚ â”‚ â”‚
                            â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
                            â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Empty State Decision Tree

### Preview Modal Decision
```
contestants.isEmpty?
    â”œâ”€ YES â†’ Show Empty State
    â”‚         â”œâ”€ Icon: ðŸ‘¥
    â”‚         â”œâ”€ Message: "Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…ØªØ³Ø§Ø¨Ù‚ÙˆÙ† Ø¨Ø¹Ø¯"
    â”‚         â”œâ”€ Guidance: "Ø§Ø³ØªØ®Ø¯Ù… Ø²Ø±..."
    â”‚         â””â”€ Action: [Add 20 Button]
    â”‚
    â””â”€ NO  â†’ Show ListView
              â””â”€ 20 Cards with names & votes
```

### Stage1 Screen Decision Tree
```
contest == null?
    â”œâ”€ YES â†’ Empty State: "No Contest"
    â”‚         â””â”€ Action: [DEV: Create Contest]
    â”‚
    â””â”€ NO â†’ contest.isStage1?
             â”œâ”€ NO â†’ Empty State: "Wrong Stage"
             â”‚        â”œâ”€ Show: Current stage name
             â”‚        â””â”€ Action: [DEV: Start Stage1]
             â”‚
             â””â”€ YES â†’ hasJoinedContest?
                       â”œâ”€ NO â†’ Empty State: "Not Joined"
                       â”‚        â””â”€ Action: [Join Now]
                       â”‚
                       â””â”€ YES â†’ contestants.isEmpty?
                                 â”œâ”€ YES â†’ Empty State: "No Contestants"
                                 â”‚         â””â”€ Action: [DEV: Seed]
                                 â”‚
                                 â””â”€ NO â†’ Show Voting Interface
                                          â”œâ”€ Header: Aura balance
                                          â””â”€ List: All contestants
                                                  â””â”€ Each has: [Vote]
```

## State Update Flow

### devSeedContestants() Execution
```
User clicks: "Ø¥Ø¶Ø§ÙØ© 20 Ù…ØªØ³Ø§Ø¨Ù‚ ÙˆÙ‡Ù…ÙŠ"
    â†“
AppState.devSeedContestants()
    â†“
1. setLoading(true) â†’ UI shows loading
    â†“
2. devEnsureTodayContest()
   - Check if today's contest exists
   - Create if missing
   - Set as activeContest
    â†“
3. Ensure user joined
   - Check hasJoinedContest
   - Add Nova if needed
   - Call joinContest()
    â†“
4. Clear old contestants
   - contestants.clear()
    â†“
5. Create 20 contestants
   - Loop 1 to 20
   - Create Contestant object
   - Call api.addContestant()
    â†“
6. Reload from API
   - loadContestants(contest.id)
   - Fetches all contestants
   - Updates _contestants list
    â†“
7. notifyListeners() â†’ UI rebuilds
    â†“
8. setLoading(false) â†’ Loading done
    â†“
User sees: SnackBar "ØªÙ… Ø¥Ø¶Ø§ÙØ© 20 Ù…ØªØ³Ø§Ø¨Ù‚ ÙˆÙ‡Ù…ÙŠ"
User sees: Updated contestant list everywhere
```

### Vote Flow
```
User clicks: "ØµÙˆÙ‘Øª" on contestant
    â†“
AppState.vote(contestantId)
    â†“
1. Validate: Aura balance >= cost
    â†“
2. Deduct Aura via API
    â†“
3. Cast vote via API
   - Increment contestant.voteCount
    â†“
4. Reload contestants
   - Fresh data from API
    â†“
5. notifyListeners() â†’ UI updates
    â†“
User sees:
- SnackBar: "ØªÙ… Ø§Ù„ØªØµÙˆÙŠØª Ø¨Ù†Ø¬Ø§Ø­!"
- Updated Aura balance
- Updated vote count
- Re-sorted list
```

## Safe Guard Layers

### Layer 1: Loading State
```dart
if (appState.isLoading) {
  return Center(child: CircularProgressIndicator());
}
```
**Purpose**: Prevent interaction during async operations

### Layer 2: Null Checks
```dart
if (contest == null) {
  return _buildEmptyState(...);
}
```
**Purpose**: Handle missing data gracefully

### Layer 3: Stage Validation
```dart
if (!contest.isStage1) {
  return _buildEmptyState(...);
}
```
**Purpose**: Show appropriate screen for current stage

### Layer 4: User State
```dart
if (!hasJoinedContest) {
  return _buildEmptyState(...);
}
```
**Purpose**: Guide user through required steps

### Layer 5: Data Validation
```dart
if (contestants.isEmpty) {
  return _buildEmptyState(...);
}
```
**Purpose**: Always show something useful

### Layer 6: Action Result
```dart
return _buildVotingList(context, appState, contestants);
```
**Purpose**: Finally show the main interface

## Key Implementation Details

### Consumer Pattern (Reactive UI)
```dart
Consumer<AppState>(
  builder: (context, appState, child) {
    // Auto-rebuilds when notifyListeners() called
    return YourWidget(data: appState.data);
  }
)
```

### Empty State Pattern
```dart
Widget _buildEmptyState({
  required String title,
  required String message,
  bool showDevButton = false,
  bool showJoinButton = false,
}) {
  // Always renders something friendly
  // Never returns null or blank
}
```

### DEV Tools Pattern
```dart
ElevatedButton(
  onPressed: () async {
    await appState.devSeedContestants();
    // Show feedback
    ScaffoldMessenger.of(context).showSnackBar(...);
  },
  child: Text('DEV Action'),
)
```

## Summary

âœ… **No code path leads to blank screen**
âœ… **Every state has a UI representation**
âœ… **Clear user guidance at every step**
âœ… **One-click DEV tools for testing**
âœ… **Reactive updates via Provider**
